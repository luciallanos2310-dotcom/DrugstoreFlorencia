{"ast":null,"code":"const manejarEnvio = async e => {\n  e.preventDefault();\n  if (password !== confirmarPassword) {\n    alert(\"Las contraseñas no coinciden\");\n    return;\n  }\n  try {\n    const respuesta = await fetch(\"http://127.0.0.1:8000/api/register/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username: email,\n        password\n      })\n    });\n    const data = await respuesta.json(); // ← Lee la respuesta JSON\n\n    if (respuesta.ok) {\n      alert(\"Usuario creado con éxito. Ahora puedes iniciar sesión.\");\n      onBack();\n    } else {\n      // Muestra el error específico del servidor\n      alert(`Error: ${data.error || 'Error al registrar usuario'}`);\n    }\n  } catch (error) {\n    console.error(\"Error de conexión:\", error);\n    alert(\"No se pudo conectar con el servidor\");\n  }\n};","map":{"version":3,"names":["manejarEnvio","e","preventDefault","password","confirmarPassword","alert","respuesta","fetch","method","headers","body","JSON","stringify","username","email","data","json","ok","onBack","error","console"],"sources":["C:/Users/llano/Desktop/Django_proyecto_completo/frontend/src/components/Registro.js"],"sourcesContent":["const manejarEnvio = async (e) => {\n  e.preventDefault();\n  \n  if (password !== confirmarPassword) {\n    alert(\"Las contraseñas no coinciden\");\n    return;\n  }\n\n  try {\n    const respuesta = await fetch(\"http://127.0.0.1:8000/api/register/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ username: email, password }),\n    });\n\n    const data = await respuesta.json();  // ← Lee la respuesta JSON\n    \n    if (respuesta.ok) {\n      alert(\"Usuario creado con éxito. Ahora puedes iniciar sesión.\");\n      onBack();\n    } else {\n      // Muestra el error específico del servidor\n      alert(`Error: ${data.error || 'Error al registrar usuario'}`);\n    }\n  } catch (error) {\n    console.error(\"Error de conexión:\", error);\n    alert(\"No se pudo conectar con el servidor\");\n  }\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAElB,IAAIC,QAAQ,KAAKC,iBAAiB,EAAE;IAClCC,KAAK,CAAC,8BAA8B,CAAC;IACrC;EACF;EAEA,IAAI;IACF,MAAMC,SAAS,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAE;MACnEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,QAAQ,EAAEC,KAAK;QAAEX;MAAS,CAAC;IACpD,CAAC,CAAC;IAEF,MAAMY,IAAI,GAAG,MAAMT,SAAS,CAACU,IAAI,CAAC,CAAC,CAAC,CAAE;;IAEtC,IAAIV,SAAS,CAACW,EAAE,EAAE;MAChBZ,KAAK,CAAC,wDAAwD,CAAC;MAC/Da,MAAM,CAAC,CAAC;IACV,CAAC,MAAM;MACL;MACAb,KAAK,CAAC,UAAUU,IAAI,CAACI,KAAK,IAAI,4BAA4B,EAAE,CAAC;IAC/D;EACF,CAAC,CAAC,OAAOA,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC1Cd,KAAK,CAAC,qCAAqC,CAAC;EAC9C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}